<div class="bg-white rounded-lg shadow-md p-6 max-w-2xl mx-auto mt-10">
  <h2 class="text-2xl font-bold text-gray-800 mb-6">
    <%= book ? 'Editar Libro' : 'Añadir Nuevo Libro' %>
  </h2>
  <form action="<%= book ? `/biblioteca/update/book/${book._id}?_method=PUT` : '/biblioteca/new/book' %>" method="POST" class="space-y-4">
    <div>
      <label for="title" class="block text-sm font-medium text-gray-700 mb-1">Título</label>
      <input type="text" id="title" name="title" value="<%= book ? book.title : '' %>" required
        class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
    </div>

    <div>
      <label for="author" class="block text-sm font-medium text-gray-700 mb-1">Autor</label>
      <input type="text" id="author" name="author" value="<%= book ? book.author : '' %>" required
        class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
    </div>

    <div>
      <label for="publicationYear" class="block text-sm font-medium text-gray-700 mb-1">Año de publicación</label>
      <input type="number" id="publicationYear" name="publicationYear"
        value="<%= book ? book.publicationYear : '' %>" min="1900" max="<%= new Date().getFullYear() %>" required
        class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
    </div>

    <div>
      <label for="genre" class="block text-sm font-medium text-gray-700 mb-1">Género</label>
      <input type="text" id="genre" name="genre" value="<%= book ? book.genre : '' %>" required
        class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"
        placeholder="Ej: Ciencia Ficción, Terror, Romance...">
    </div>

    <div>
      <label for="editionNumber" class="block text-sm font-medium text-gray-700 mb-1">Número de edición</label>
      <input type="number" id="editionNumber" name="editionNumber"
        value="<%= book ? book.editionNumber : '' %>" min="1" required
        class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
    </div>

    <div class="flex space-x-4 pt-4">
      <button type="submit" class="px-6 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors">
        <%= book ? 'Actualizar' : 'Guardar' %>
      </button>
      <a href="/biblioteca"
        class="px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors">
        Cancelar
      </a>
    </div>
  </form>
</div>
